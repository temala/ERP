<mat-toolbar color="primary">
  <span i18n>New mission</span>
</mat-toolbar>

<form [formGroup]="addMissionForm" (ngSubmit)="AddMission(addMissionForm)" fxLayout="column">
  <div class="small-padding">
    <div class="input-row">
      <mat-form-field appearance="standard">
        <mat-label i18n>Name</mat-label>
        <input matInput formControlName="name">
        <mat-error *ngIf="addMissionForm.get('name')?.hasError('required')" i18n>Name is required</mat-error>
      </mat-form-field>
      <mat-form-field appearance="standard">
        <mat-label i18n>Client</mat-label>
        <mat-select matInput formControlName="client">
          <mat-option *ngFor="let client of clients" [value]="client">{{client.name}}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div class="input-row">
      <h3 class="small-padding" i18n>Mission information</h3>
      <mat-form-field appearance="standard">
        <mat-label i18n>Price H.T</mat-label>
        <input matInput formControlName="priceHT">
        <mat-error *ngIf="addMissionForm.get('priceHT')?.hasError('required')" i18n>Price is required</mat-error>
        <mat-error *ngIf="addMissionForm.get('priceHT')?.hasError('pattern')" i18n>Enter a valid price (e.g. 100.50)</mat-error>
      </mat-form-field>
      <mat-form-field appearance="standard">
        <mat-label i18n>TVA %</mat-label>
        <input matInput formControlName="tva">
      </mat-form-field>
    </div>
  </div>
  <mat-divider></mat-divider>
  <div class="action-padding">
    <button mat-flat-button color="primary" type="submit" [disabled]="addMissionForm.invalid" i18n>Save</button>
  </div>
</form>